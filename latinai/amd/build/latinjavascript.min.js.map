{"version":3,"sources":["../src/latinjavascript.js"],"names":["showmodalquestion","modalid","mymodal","ModalFactory","create","type","types","SAVE_CANCEL","large","title","body","Templates","render","document","on","event","preventDefault","then","modal","show","loadlatinquestion","DataTable","clear","destroy","empty","loadlatinquestionoptions","processing","ajax","M","cfg","wwwroot","columns","oTable","removeClass","addClass","pos","row","index","data","Y","one","setHTML","latin","focus","i","val"],"mappings":"+PAEA,OACA,OACA,OACA,O,mDAEO,GAAMA,CAAAA,CAAiB,CAAG,SAACC,CAAD,CAAa,CAC1C,GAAIC,CAAAA,CAAO,CAAGC,UAAaC,MAAb,CAAoB,CAC9BC,IAAI,CAAEF,UAAaG,KAAb,CAAmBC,WADK,CAE9BC,KAAK,GAFyB,CAG9BC,KAAK,CAAE,yBAHuB,CAI9BC,IAAI,CAAEC,UAAUC,MAAV,CAAiB,8BAAjB,CAAiD,CAACX,OAAO,CAAPA,CAAD,CAAjD,CAJwB,CAApB,CAAd,CAOA,cAAEY,QAAF,EAAYC,EAAZ,CAAe,OAAf,CAAwB,mBAAxB,CAA4C,SAACC,CAAD,CAAW,CACnDA,CAAK,CAACC,cAAN,GACAd,CAAO,CAACe,IAAR,CAAa,SAAAC,CAAK,QAAEA,CAAAA,CAAK,CAACC,IAAN,EAAF,CAAlB,CACH,CAHD,CAIH,CAZM,C,sBAcA,GAAMC,CAAAA,CAAiB,CAAG,SAACnB,CAAD,CAAa,CAE1C,yBAAMA,CAAN,GAAiBoB,SAAjB,GAA6BC,KAA7B,GAAqCC,OAArC,GACA,yBAAMtB,CAAN,YAAuBuB,KAAvB,GAH0C,GAKpCC,CAAAA,CAAwB,CAAG,CAC7BC,UAAU,GADmB,CAE7BC,IAAI,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAc,qCAFS,CAG7BC,OAAO,CAAE,CACL,CAAE,KAAQ,OAAV,CADK,CAEL,CAAE,KAAQ,eAAV,CAFK,CAHoB,CALS,CAatCC,CAAM,CAAG,yBAAM/B,CAAN,GAAiBoB,SAAjB,CAA2BI,CAA3B,CAb6B,CAe1C,yBAAMxB,CAAN,YAAuBa,EAAvB,CAA2B,OAA3B,CAAoC,IAApC,CAA0C,UAAW,CACjD,yBAAMb,CAAN,eAA0BgC,WAA1B,CAAsC,uBAAtC,EACA,cAAE,IAAF,EAAQC,QAAR,CAAiB,uBAAjB,EAFiD,GAG7CC,CAAAA,CAAG,CAAGH,CAAM,CAACI,GAAP,CAAW,IAAX,EAAiBC,KAAjB,EAHuC,CAI7CD,CAAG,CAAGJ,CAAM,CAACI,GAAP,CAAWD,CAAX,EAAgBG,IAAhB,EAJuC,CAKjDC,CAAC,CAACC,GAAF,CAAM,0BAAN,EAAkCC,OAAlC,CAA0CL,CAAG,CAACM,KAA9C,EACAH,CAAC,CAACC,GAAF,CAAM,0BAAN,EAAkCG,KAAlC,GACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAgB,EAAH,EAAAA,CAAb,CAAoBA,CAAC,EAArB,CAAwB,CACpB,mCAAgBA,CAAhB,GAAqBC,GAArB,CAAyBT,CAAG,uBAAgBQ,CAAC,CAAC,CAAlB,EAA5B,CACH,CACD,cAAE,UAAF,EAAcC,GAAd,CAAkBT,CAAG,CAACM,KAAtB,CACH,CAXD,CAaH,CA5BM,C","sourcesContent":["/* eslint-disable */\n\nimport $ from 'jquery';\nimport ModalFactory from 'core/modal_factory';\nimport Templates from 'core/templates';\nimport DataTable from 'qtype_latinai/datatables';\n\nexport const showmodalquestion = (modalid) => {\n    let mymodal = ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        large:true,\n        title: 'Choose a Latin Question',\n        body: Templates.render('qtype_latinai/modal_question', {modalid}),\n    });\n\n    $(document).on(\"click\", \"#choose_latin_btn\",(event) => {\n        event.preventDefault();\n        mymodal.then(modal=>modal.show());\n    });\n}\n\nexport const loadlatinquestion = (modalid) => {\n\n    $(`#${modalid}`).DataTable().clear().destroy();\n    $(`#${modalid} tbody`).empty();\n\n    const loadlatinquestionoptions = {\n        processing: true,\n        ajax: M.cfg.wwwroot+\"/admin/tool/uploadquestion/ajax.php\",\n        columns: [\n            { \"data\": \"latin\" },\n            { \"data\": \"translation_1\" },\n        ]\n    };\n    let oTable = $(`#${modalid}`).DataTable(loadlatinquestionoptions);\n\n    $(`#${modalid} tbody`).on( 'click', 'tr', function() {\n        $(`#${modalid} tbody tr`).removeClass('bg-primary text-white');\n        $(this).addClass('bg-primary text-white');\n        var pos = oTable.row(this).index();\n        var row = oTable.row(pos).data();\n        Y.one(\"#id_questiontexteditable\").setHTML(row.latin);\n        Y.one(\"#id_questiontexteditable\").focus();\n        for(let i=0; i<=10; i++){\n            $(`#id_answer_${i}`).val(row[`translation_${i+1}`])\n        }\n        $(\"#id_name\").val(row.latin);\n    });\n\n}"],"file":"latinjavascript.min.js"}